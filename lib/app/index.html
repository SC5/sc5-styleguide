<!DOCTYPE html>
<html lang="en" ng-app="sgApp">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="{{{appRoot}}}/assets/img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script>
    var _styleguideConfig = {{{styleguideConfig}}};
    (function() {
      'use strict';
      var userStyleFiles = [
          '{{{appRoot}}}/styleguide.css',
          '{{{appRoot}}}/styleguide_pseudo_styles.css',
          '{{{appRoot}}}/styleguide_helper_elements.css'
        ],
        head = document.querySelector('head');

      function addCssLink(href, options) {
        var link = document.createElement('link');
        link.setAttribute('rel', 'stylesheet');
        link.setAttribute('type', 'text/css');
        link.setAttribute('href', href);
        if (options && options.noReload) {
          link.setAttribute('data-noreload', true);
        }
        head.appendChild(link);
      }

      // Use Shadow DOM but fallback to global styles if shadow DOM is not supported
      if (typeof head.createShadowRoot !== 'function' || _styleguideConfig.disableEncapsulation) {
        userStyleFiles.forEach(addCssLink);
      }

      addCssLink('{{{appRoot}}}/styleguide_at_rules.css');
      addCssLink('{{{appRoot}}}/styleguide-app.css', {noReload: true});
    }());
  </script>
  <script type="text/ng-template" id="userStyles.html">
    <style>
      @import url('{{{appRoot}}}/styleguide.css');
      @import url('{{{appRoot}}}/styleguide_pseudo_styles.css');
      @import url('{{{appRoot}}}/styleguide_helper_elements.css');
    </style>
  </script>
  <title ng-bind-html="$root.pageTitle |Â unsafe">{{title}}</title>
  {{{extraHead}}}
  {{#filesConfig}}
  <script type="text/javascript">
    var filesConfig = {{{filesConfig}}};
  </script>
  {{/filesConfig}}
  <base href="{{{appRoot}}}/" />
</head>
<body class="sg">
  {{{beforeBody}}}
  <div class="sg view-index" ui-view></div>
  <script src="{{{appRoot}}}/js/vendor.js"></script>
  <script src="{{{appRoot}}}/js/app.js"></script>
  {{#socketIo}}
    <script src="{{{appRoot}}}/socket.io/socket.io.js"></script>
  {{/socketIo}}
  {{{afterBody}}}
</body>
</html>
